const destinationsData = {
    "maasai-mara": {
        title: "Maasai Mara",
        subtitle: "The World Cup of Wildlife",
        image: "https://images.unsplash.com/photo-1549366021-9f761d450615?ixlib=rb-4.0.3&auto=format&fit=crop&w=1600&q=80",
        description: "The Maasai Mara National Reserve is one of the most famous wildlife conservation areas in the world. It is globally renowned for its exceptional populations of lions, leopards, cheetahs, and elephants, and the annual migration of wildebeest, zebra, and Thomson's gazelle to and from the Serengeti every year from July to October, known as the Great Migration.",
        bestTime: "July to October for the Great Migration. December to March for general game viewing.",
        highlights: ["Big Five", "Great Migration", "Hot Air Balloon", "Maasai Culture", "Big Cats", "Savannah"],
        gallery: [
            "https://images.unsplash.com/photo-1516426122078-c23e76319801?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
            "https://images.unsplash.com/photo-1535591273668-578e31182c4f?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
            "https://images.unsplash.com/photo-1523805009345-7448845a9e53?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
        ]
    },
    "amboseli": {
        title: "Amboseli",
        subtitle: "Land of Giants",
        image: "https://images.unsplash.com/photo-1534177616072-ef7dc120449d?ixlib=rb-4.0.3&auto=format&fit=crop&w=1600&q=80",
        description: "Amboseli National Park is famous for being the best place in the world to get close to free-ranging elephants. The park offers some of the best opportunities to see African wildlife because its vegetation is sparse due to the long dry months. The protected area is home to the African elephant, buffalo, impala, lion, cheetah, hyena, giraffe, zebra, and wildebeest.",
        bestTime: "June to October and January to February.",
        highlights: ["Mt Kilimanjaro Views", "Large Elephant Herds", "Bird Watching", "Observation Hill", "Swamps", "Photographic Safaris"],
        gallery: [
            "https://images.unsplash.com/photo-1449452198679-05c7fd30f416?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
            "https://images.unsplash.com/photo-1547471080-7cc2caa01a7e?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
            "https://images.unsplash.com/photo-1575550959106-5a7defe28b56?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
        ]
    },
    "tsavo": {
        title: "Tsavo National Park",
        subtitle: "Theatre of the Wild",
        image: "https://images.unsplash.com/photo-1516026672322-bc52d61a55d5?ixlib=rb-4.0.3&auto=format&fit=crop&w=1600&q=80",
        description: "Tsavo is made up of two separate parks, Tsavo East and Tsavo West. It is the largest national park in Kenya and one of the largest in the world. It is famous for its red elephants, which get their color from rolling in the red volcanic soil. Major attractions include the Yatta Plateau, Lugard Falls, and Mzima Springs.",
        bestTime: "May to October is the dry season and best for game viewing.",
        highlights: ["Red Elephants", "Mzima Springs", "Shetani Lava Flow", "Man-Eaters", "Rhino Sanctuary", "Rugged Landscapes"],
        gallery: [
            "https://images.unsplash.com/photo-1489396160835-396740555d5b?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
            "https://images.unsplash.com/photo-1518709594023-6eab9bab7b23?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
            "https://images.unsplash.com/photo-1551009175-8a68da93d5f9?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
        ]
    },
    "samburu": {
        title: "Samburu",
        subtitle: "Kenya's Northern Frontier",
        image: "https://images.unsplash.com/photo-1634547432607-2856f6636746?ixlib=rb-4.0.3&auto=format&fit=crop&w=1600&q=80",
        description: "Samburu National Reserve is situated on the banks of the Ewaso Ng'iro river in Kenya. This arid region is home to the 'Samburu Special Five': the Grevy's zebra, Somali ostrich, reticulated giraffe, gerenuk, and the beisa oryx.",
        bestTime: "June to October and December to March.",
        highlights: ["Samburu Special 5", "Ewaso Ng'iro River", "Leopards", "Unique Culture", "Birdlife", "Dry Landscape"],
        gallery: [
            "https://images.unsplash.com/photo-1484406566174-9da000dea54f?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
            "https://images.unsplash.com/photo-1550353127-b0da3aeaa0ca?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
            "https://images.unsplash.com/photo-1570529813292-0b2f0c776082?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
        ]
    },
    "nakuru": {
        title: "Lake Nakuru",
        subtitle: "A Bird Watcher's Paradise",
        image: "https://images.unsplash.com/photo-1605649487215-2f5f7253457a?ixlib=rb-4.0.3&auto=format&fit=crop&w=1600&q=80",
        description: "Lake Nakuru National Park is best known for its thousands, sometimes millions of flamingos nesting along the shores. The surface of the shallow lake is often hardly recognizable due to the continually shifting mass of pink. It is also a sanctuary for both black and white rhinos.",
        bestTime: "Year-round, though some roads can be messy in April/May.",
        highlights: ["Flamingos", "White Rhinos", "Black Rhinos", "Rothschild Giraffes", "Baboon Cliff", "Waterfall"],
        gallery: [
            "https://images.unsplash.com/photo-1658428172922-a744218eb2c3?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
            "https://images.unsplash.com/photo-1540941910243-7f2cb264b397?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
            "https://images.unsplash.com/photo-1582235948721-e0c1df15928d?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
        ]
    },
    "diani": {
        title: "Diani Beach",
        subtitle: "Africa's Leading Beach Destination",
        image: "https://images.unsplash.com/photo-1540206351-d6465b3ac5c1?ixlib=rb-4.0.3&auto=format&fit=crop&w=1600&q=80",
        description: "Diani Beach is a major beach resort on the Indian Ocean coast of Kenya. It is known for its flawless white sands, hugged by lush forest and kissed by surfable waves which makes diani a popular kite surfing location.",
        bestTime: "Late June to December and late December to March.",
        highlights: ["White Sands", "Coral Reefs", "Dolphin Tours", "Kite Surfing", "Sky Diving", "Luxury Resorts"],
        gallery: [
            "https://images.unsplash.com/photo-1590523741831-ab7f85179381?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
            "https://images.unsplash.com/photo-1537583654878-db629f12753a?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
            "https://images.unsplash.com/photo-1519046904884-53103b34b206?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
        ]
    }
};

document.addEventListener('DOMContentLoaded', () => {
    checkUrlParams();
    
    // Listen for Hash Changes (Back Button or Links)
    window.addEventListener('hashchange', checkUrlParams);
    
    // Back Button Handler
    document.getElementById('back-to-grid').addEventListener('click', () => {
        // Clear hash to return to grid
        history.pushState("", document.title, window.location.pathname + window.location.search);
        showGrid();
    });
});

function checkUrlParams() {
    // Get ID from hash (remove the #)
    const id = window.location.hash.substring(1);
    
    if (id && destinationsData[id]) {
        showDetail(id);
    } else {
        showGrid();
    }
}

function showGrid() {
    document.getElementById('destinations-view').classList.remove('hidden');
    document.getElementById('detail-view').classList.add('hidden');
    window.scrollTo({ top: 0, behavior: 'instant' });
}

function showDetail(id) {
    const data = destinationsData[id];
    
    document.getElementById('destinations-view').classList.add('hidden');
    document.getElementById('detail-view').classList.remove('hidden');
    
    // Populate Content
    document.getElementById('detail-image').src = data.image;
    document.getElementById('detail-title').textContent = data.title;
    document.getElementById('detail-subtitle').textContent = data.subtitle;
    document.getElementById('detail-desc').textContent = data.description;
    document.getElementById('detail-time').textContent = data.bestTime;
    
    // Highlights
    const highlightsContainer = document.getElementById('detail-highlights');
    highlightsContainer.innerHTML = '';
    data.highlights.forEach(item => {
        const div = document.createElement('div');
        div.className = 'flex items-center gap-2 text-gray-700 dark:text-gray-300 p-2 bg-gray-50 dark:bg-gray-700/50 rounded-lg';
        div.innerHTML = `<i class="fas fa-check-circle text-primary"></i> <span>${item}</span>`;
        highlightsContainer.appendChild(div);
    });
    
    // Gallery
    if (data.gallery.length >= 3) {
        document.getElementById('gallery-1').src = data.gallery[0];
        document.getElementById('gallery-2').src = data.gallery[1];
        document.getElementById('gallery-3').src = data.gallery[2];
    }
    
    // Related Tours Mockup (You can make this dynamic if needed)
    const toursContainer = document.getElementById('related-tours');
    toursContainer.innerHTML = `
        <div class="bg-white dark:bg-gray-800 rounded-xl overflow-hidden shadow-lg border border-gray-100 dark:border-gray-700">
            <div class="h-48 overflow-hidden">
                <img src="${data.image}" class="w-full h-full object-cover">
            </div>
            <div class="p-6">
                <h4 class="font-bold text-lg text-secondary dark:text-white mb-2">3 Days ${data.title} Safari</h4>
                <div class="flex justify-between items-center">
                    <span class="text-primary font-bold">$450</span>
                    <a href="tours.html" class="text-sm font-medium hover:underline text-gray-500">View Details</a>
                </div>
            </div>
        </div>
        <div class="bg-white dark:bg-gray-800 rounded-xl overflow-hidden shadow-lg border border-gray-100 dark:border-gray-700">
            <div class="h-48 overflow-hidden">
                <img src="${data.gallery[0]}" class="w-full h-full object-cover">
            </div>
            <div class="p-6">
                <h4 class="font-bold text-lg text-secondary dark:text-white mb-2">5 Days ${data.title} & Lake Nakuru</h4>
                <div class="flex justify-between items-center">
                    <span class="text-primary font-bold">$850</span>
                    <a href="tours.html" class="text-sm font-medium hover:underline text-gray-500">View Details</a>
                </div>
            </div>
        </div>
    `;
    
    // Scroll to Top
    window.scrollTo({ top: 0, behavior: 'instant' });
}
